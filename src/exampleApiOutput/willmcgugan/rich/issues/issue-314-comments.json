[{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/702622823","html_url":"https://github.com/willmcgugan/rich/issues/314#issuecomment-702622823","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/314","id":702622823,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjYyMjgyMw==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-10-02T09:23:31Z","updated_at":"2020-10-02T09:23:31Z","author_association":"OWNER","body":"Allowing ansi escape codes verbatim would break much of Rich's formatting, word wrapping in particular, but also style. You also wouldn't want ansi codes such as clear line / screen etc making it in to your terminal.\r\n\r\nIt would be possible to parse text containing ansi codes, strip dangerous ones, and replicate styles as a Text class. It would be an interesting exercise, but probably isn't going to happen while there are other higher priority tasks. \r\n\r\nTBH though, ansi codes in logging is best avoided. Log output may be configured to go to a variety of sources, most of which are unlikely to support ansi sequences. If you want to preserve the output, I would recommend `repr`ing the string prior to logging it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/702649515","html_url":"https://github.com/willmcgugan/rich/issues/314#issuecomment-702649515","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/314","id":702649515,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjY0OTUxNQ==","user":{"login":"ssbarnea","id":102495,"node_id":"MDQ6VXNlcjEwMjQ5NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/102495?v=4","gravatar_id":"","url":"https://api.github.com/users/ssbarnea","html_url":"https://github.com/ssbarnea","followers_url":"https://api.github.com/users/ssbarnea/followers","following_url":"https://api.github.com/users/ssbarnea/following{/other_user}","gists_url":"https://api.github.com/users/ssbarnea/gists{/gist_id}","starred_url":"https://api.github.com/users/ssbarnea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssbarnea/subscriptions","organizations_url":"https://api.github.com/users/ssbarnea/orgs","repos_url":"https://api.github.com/users/ssbarnea/repos","events_url":"https://api.github.com/users/ssbarnea/events{/privacy}","received_events_url":"https://api.github.com/users/ssbarnea/received_events","type":"User","site_admin":false},"created_at":"2020-10-02T10:19:34Z","updated_at":"2020-10-02T10:19:34Z","author_association":"CONTRIBUTOR","body":"It's ok, i can understand the limitations, maybe I could make a PR in the future to add few ansi stripping/cleansing utilities.\r\n\r\nI am wondering if maybe my decision of using a python logger to stream (line by line) stdout/stderr output from child processes started by the tool may be the root cause for the problem I faced.\r\n\r\nUsing python logging seemed as a flexible way for this as it allowed even features like logging at warn level the output from stderr.\r\n\r\nI am not yet sure which is the best approach for dealing output from child processes, especially for wrapping tools, like those were few but important the output is their own and the >80% of output is from the called tools. Because called tools make take a lot of time to run, you must stream the output, capturing it and displaying at the end is not a viable option (can easily run 10min-30min or even hours).\r\n\r\nMaybe someone reading this will have a better idea.","performed_via_github_app":null}]