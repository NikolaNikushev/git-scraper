{"url":"https://api.github.com/repos/willmcgugan/rich/issues/110","repository_url":"https://api.github.com/repos/willmcgugan/rich","labels_url":"https://api.github.com/repos/willmcgugan/rich/issues/110/labels{/name}","comments_url":"https://api.github.com/repos/willmcgugan/rich/issues/110/comments","events_url":"https://api.github.com/repos/willmcgugan/rich/issues/110/events","html_url":"https://github.com/willmcgugan/rich/issues/110","id":636587679,"node_id":"MDU6SXNzdWU2MzY1ODc2Nzk=","number":110,"title":"Disabling visibility of progress","user":{"login":"calebstewart","id":7529189,"node_id":"MDQ6VXNlcjc1MjkxODk=","avatar_url":"https://avatars1.githubusercontent.com/u/7529189?v=4","gravatar_id":"","url":"https://api.github.com/users/calebstewart","html_url":"https://github.com/calebstewart","followers_url":"https://api.github.com/users/calebstewart/followers","following_url":"https://api.github.com/users/calebstewart/following{/other_user}","gists_url":"https://api.github.com/users/calebstewart/gists{/gist_id}","starred_url":"https://api.github.com/users/calebstewart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calebstewart/subscriptions","organizations_url":"https://api.github.com/users/calebstewart/orgs","repos_url":"https://api.github.com/users/calebstewart/repos","events_url":"https://api.github.com/users/calebstewart/events{/privacy}","received_events_url":"https://api.github.com/users/calebstewart/received_events","type":"User","site_admin":false},"labels":[{"id":1668492275,"node_id":"MDU6TGFiZWwxNjY4NDkyMjc1","url":"https://api.github.com/repos/willmcgugan/rich/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-06-10T22:26:27Z","updated_at":"2020-06-11T18:47:26Z","closed_at":"2020-06-11T18:47:25Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nI wanted to implement a progress bar for a long running process, but have the entire progress bar disappear after completion. In reality, it would be replaced with a log entry of w/ the result of the operation. Specifically, I'm using this in a \"searching\" context, so a search runs which may take a while to complete. I'd like to have a progress bar indicating what the application is doing, but replace this line with the search results after completion.\r\n\r\nThis almost works by using `progress.update(task_id, visible=False)`, but an extra new line ends up in the output, which causes weird gaps in the log output after completion (especially if a progress bar is used during two separate operations).\r\n\r\nIs there are way to remove the extra newline or completely erase the progress bar output, and return the cursor the the beginning of the original line?\r\n\r\nThanks!\r\n\r\n## Edit: I did some digging in the code...\r\n\r\nFrom what I can see, the table that is built to render the progress bar shouldn't have any rows if there are no visible tasks, and from looking at the `_render` method in the Table class, it shouldn't render any lines if there are no rows, so I can't quite track down why there is a new line happening anyway. I thought it may have been the \"padding\" argument supplied to the Table used to render the progress bar, but I tried to make that configurable and using `(0,0)` for the padding (vice `(0,1)`) and it still ends up with a blank line.\r\n\r\n## Edit 2: Example\r\n\r\nI realized in hindsight, my explanation may be a little lacking. This example code:\r\n\r\n```python\r\n#!/usr/bin/env python3\r\nfrom rich.progress import Progress\r\nfrom rich.console import Console\r\nimport time\r\n\r\nconsole = Console()\r\n\r\nconsole.log(\"Here we go!\")\r\n\r\nwith Progress(console=console) as progress:\r\n    task = progress.add_task(\"test\", total=10)\r\n    for i in range(10):\r\n        time.sleep(0.5)\r\n        progress.update(task, advance=1)\r\n    progress.update(task, visible=False)\r\n\r\nconsole.log(\"Is there a blank line?\")\r\n```\r\n\r\nProduces the following output after the progress has completed.\r\n\r\n```\r\nâžœ python3 ./test.py\r\n[19:09:38] Here we go!                                                                     test.py:8\r\n\r\n[19:09:42] Is there a blank line?                                                         test.py:17\r\n```\r\n\r\nI'd like there to be no blank line between the two log statements. The progress bar is only to indicate that a process which could hang is still working, and not for any lasting output that is helpful. \r\n\r\nHopefully that better describes the issue I'm having.","closed_by":{"login":"calebstewart","id":7529189,"node_id":"MDQ6VXNlcjc1MjkxODk=","avatar_url":"https://avatars1.githubusercontent.com/u/7529189?v=4","gravatar_id":"","url":"https://api.github.com/users/calebstewart","html_url":"https://github.com/calebstewart","followers_url":"https://api.github.com/users/calebstewart/followers","following_url":"https://api.github.com/users/calebstewart/following{/other_user}","gists_url":"https://api.github.com/users/calebstewart/gists{/gist_id}","starred_url":"https://api.github.com/users/calebstewart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calebstewart/subscriptions","organizations_url":"https://api.github.com/users/calebstewart/orgs","repos_url":"https://api.github.com/users/calebstewart/repos","events_url":"https://api.github.com/users/calebstewart/events{/privacy}","received_events_url":"https://api.github.com/users/calebstewart/received_events","type":"User","site_admin":false},"performed_via_github_app":null}