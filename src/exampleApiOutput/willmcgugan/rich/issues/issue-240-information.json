{"url":"https://api.github.com/repos/willmcgugan/rich/issues/240","repository_url":"https://api.github.com/repos/willmcgugan/rich","labels_url":"https://api.github.com/repos/willmcgugan/rich/issues/240/labels{/name}","comments_url":"https://api.github.com/repos/willmcgugan/rich/issues/240/comments","events_url":"https://api.github.com/repos/willmcgugan/rich/issues/240/events","html_url":"https://github.com/willmcgugan/rich/issues/240","id":681970956,"node_id":"MDU6SXNzdWU2ODE5NzA5NTY=","number":240,"title":"Django Logging Formatting Issue","user":{"login":"WayneLambert","id":44729076,"node_id":"MDQ6VXNlcjQ0NzI5MDc2","avatar_url":"https://avatars1.githubusercontent.com/u/44729076?v=4","gravatar_id":"","url":"https://api.github.com/users/WayneLambert","html_url":"https://github.com/WayneLambert","followers_url":"https://api.github.com/users/WayneLambert/followers","following_url":"https://api.github.com/users/WayneLambert/following{/other_user}","gists_url":"https://api.github.com/users/WayneLambert/gists{/gist_id}","starred_url":"https://api.github.com/users/WayneLambert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WayneLambert/subscriptions","organizations_url":"https://api.github.com/users/WayneLambert/orgs","repos_url":"https://api.github.com/users/WayneLambert/repos","events_url":"https://api.github.com/users/WayneLambert/events{/privacy}","received_events_url":"https://api.github.com/users/WayneLambert/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-08-19T16:15:30Z","updated_at":"2020-08-19T19:25:23Z","closed_at":"2020-08-19T19:25:23Z","author_association":"NONE","active_lock_reason":null,"body":"Hi @willmcgugan,\r\n\r\nI would just like to ask about configuration for the logging formatting/handling within Django.\r\n\r\nFollowing [your post on your blog](https://www.willmcgugan.com/blog/tech/post/richer-django-logging/), I have attempted to configure my own logging within my Django project.\r\n\r\nThere are 2 major differences between what your blog post, and indeed the project's `README` displays when compared to my implementation.\r\n\r\nFor reference, your blog post's screenshot:\r\n\r\n![image](https://user-images.githubusercontent.com/44729076/90659205-50383f00-e23c-11ea-899c-ad2b74fa50c4.png)\r\n\r\nThe project's README screenshot (albeit not Django):\r\n\r\n![image](https://user-images.githubusercontent.com/44729076/90659280-63e3a580-e23c-11ea-99d2-651dabbb85e4.png)\r\n\r\nMy implementation displays as:\r\n\r\n![django-logging-with-rich](https://user-images.githubusercontent.com/44729076/90661321-f6854400-e23e-11ea-94b1-764902121c36.png)\r\n\r\nThere are 2 issues with the way my logging is formatted:\r\n\r\n1. You will see that my logging does not have the colorised formatting.\r\n\r\n1. The width is somewhat constrained even though the width of my iTerm terminal window is plenty wide enough. Even when I widen it further, it remains constrained in its width.\r\n\r\nIt's worth mentioning that my project is in Docker, so I don't know if that's an issue. I have also tested reviewing the development server output within the stock `terminal` app in Mac OS which gave me the same result.\r\n\r\nThe timed grouping (with just the time element) and the warning levels both look good so it appears the Rich config is somewhat working.\r\n\r\n@willmcgugan For reference, do you have an exact commit reference that points exactly to the `settings.py` file you referred to in your blog post? Should it matter if it's in Docker instead of just Django's local development server?\r\n\r\nI don't know whether this is a config issue from my side, or whether there is a bug or missing feature from Rich itself.\r\n\r\nMy full logging config in my `settings.py` file is:\r\n\r\n```python\r\n...\r\n\r\n    LOGGING = {\r\n        'version': 1,\r\n        'disable_existing_loggers': False,\r\n\r\n        'filters': {\r\n            'skip_static_requests': {\r\n                '()': 'django.utils.log.CallbackFilter',\r\n                'callback': skip_static_requests,\r\n            }\r\n        },\r\n\r\n        'formatters': {\r\n            'rich': {'datefmt': '[%X]'},\r\n        },\r\n\r\n        'handlers': {\r\n            'console': {\r\n                'class': 'rich.logging.RichHandler',\r\n                'formatter': 'rich',\r\n                'level': 'INFO',\r\n                'filters': ['skip_static_requests'],\r\n            }\r\n        },\r\n\r\n        'loggers': {\r\n            'django': {\r\n                'handlers': ['console'],\r\n                'level': 'INFO',\r\n                'propagate': False,\r\n            },\r\n        }\r\n    }\r\n...\r\n```\r\n\r\nPlease could you advise?\r\n\r\nMany thanks,\r\n\r\nWayne","closed_by":{"login":"WayneLambert","id":44729076,"node_id":"MDQ6VXNlcjQ0NzI5MDc2","avatar_url":"https://avatars1.githubusercontent.com/u/44729076?v=4","gravatar_id":"","url":"https://api.github.com/users/WayneLambert","html_url":"https://github.com/WayneLambert","followers_url":"https://api.github.com/users/WayneLambert/followers","following_url":"https://api.github.com/users/WayneLambert/following{/other_user}","gists_url":"https://api.github.com/users/WayneLambert/gists{/gist_id}","starred_url":"https://api.github.com/users/WayneLambert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WayneLambert/subscriptions","organizations_url":"https://api.github.com/users/WayneLambert/orgs","repos_url":"https://api.github.com/users/WayneLambert/repos","events_url":"https://api.github.com/users/WayneLambert/events{/privacy}","received_events_url":"https://api.github.com/users/WayneLambert/received_events","type":"User","site_admin":false},"performed_via_github_app":null}