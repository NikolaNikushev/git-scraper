{"url":"https://api.github.com/repos/willmcgugan/rich/issues/176","repository_url":"https://api.github.com/repos/willmcgugan/rich","labels_url":"https://api.github.com/repos/willmcgugan/rich/issues/176/labels{/name}","comments_url":"https://api.github.com/repos/willmcgugan/rich/issues/176/comments","events_url":"https://api.github.com/repos/willmcgugan/rich/issues/176/events","html_url":"https://github.com/willmcgugan/rich/issues/176","id":665640760,"node_id":"MDU6SXNzdWU2NjU2NDA3NjA=","number":176,"title":"[Improvement] progress.track is relatively slow","user":{"login":"kentmartin73","id":4977593,"node_id":"MDQ6VXNlcjQ5Nzc1OTM=","avatar_url":"https://avatars0.githubusercontent.com/u/4977593?v=4","gravatar_id":"","url":"https://api.github.com/users/kentmartin73","html_url":"https://github.com/kentmartin73","followers_url":"https://api.github.com/users/kentmartin73/followers","following_url":"https://api.github.com/users/kentmartin73/following{/other_user}","gists_url":"https://api.github.com/users/kentmartin73/gists{/gist_id}","starred_url":"https://api.github.com/users/kentmartin73/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kentmartin73/subscriptions","organizations_url":"https://api.github.com/users/kentmartin73/orgs","repos_url":"https://api.github.com/users/kentmartin73/repos","events_url":"https://api.github.com/users/kentmartin73/events{/privacy}","received_events_url":"https://api.github.com/users/kentmartin73/received_events","type":"User","site_admin":false},"labels":[{"id":2200581776,"node_id":"MDU6TGFiZWwyMjAwNTgxNzc2","url":"https://api.github.com/repos/willmcgugan/rich/labels/Needs%20triage","name":"Needs triage","color":"bfdadc","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-07-25T19:20:42Z","updated_at":"2020-12-03T10:41:55Z","closed_at":"2020-07-27T16:45:27Z","author_association":"NONE","active_lock_reason":null,"body":"**Description**\r\nI really like the look and feel of rich.  One thing that stops me using it more is that ```rich.progress.track``` is slow compared to ```tqdm.tqdm```\r\n\r\n**To Reproduce**\r\n```python\r\nfrom rich.progress import track\r\nfrom time import time\r\nfrom functools import wraps\r\n\r\nimport timeit\r\n\r\nfrom tqdm import tqdm\r\n\r\ndef measure(func):\r\n    \"\"\"Simple decorator to measure execution time\"\"\"\r\n    @wraps(func)\r\n    def _time_it(*args, **kwargs):\r\n        start = int(round(time() * 1000))\r\n        try:\r\n            return func(*args, **kwargs)\r\n        finally:\r\n            end_ = int(round(time() * 1000)) - start\r\n            print(f\"Total execution time: {end_ if end_ > 0 else 0} ms\")\r\n    return _time_it\r\n\r\n\r\n@measure\r\ndef go_track(count):\r\n    for i in track(range(0, count)):\r\n        pass\r\n\r\n\r\n@measure\r\ndef go_tqdm(count):\r\n    for i in tqdm(range(0, count)):\r\n        pass\r\n\r\n\r\ncount = 1 * 1000 * 1000\r\n\r\nprint(f\"Counting to {count} with rich.progress.track\")\r\ngo_track(count)\r\nprint()\r\nprint(f\"Counting to {count} with tqdm.tqdm\")\r\ngo_tqdm(count)\r\n```\r\n\r\nProduces\r\n```\r\nCounting to 1000000 with rich.progress.track\r\nWorking... ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00\r\nTotal execution time: 3930 ms\r\n\r\nCounting to 1000000 with tqdm.tqdm\r\n100%|████████████████████████████| 1000000/1000000 [00:00<00:00, 2808003.77it/s]\r\nTotal execution time: 384 ms\r\n```\r\n\r\n**Versions etc**\r\n```\r\n   ~  uname -a\r\nDarwin EMB-JBM0HTD5 17.7.0 Darwin Kernel Version 17.7.0: Tue Feb 18 22:51:29 PST 2020; root:xnu-4570.71.73~1/RELEASE_X86_64 x86_64\r\n   ~  python3 --version\r\nPython 3.8.4\r\n   ~  pip3 freeze | grep rich\r\nrich==4.0.0\r\n```\r\n\r\nThanks!\r\n\r\nKent","closed_by":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"performed_via_github_app":null}