[{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/646707731","html_url":"https://github.com/willmcgugan/rich/pull/114#issuecomment-646707731","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/114","id":646707731,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjcwNzczMQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-06-19T15:49:58Z","updated_at":"2020-06-19T15:49:58Z","author_association":"OWNER","body":"Thanks, I should set up linting to find these in future. \r\n\r\nI'm getting a number of test fails. You can run tests with `make test`. Looks like a little too much pruning of imports...","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/646711045","html_url":"https://github.com/willmcgugan/rich/pull/114#issuecomment-646711045","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/114","id":646711045,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjcxMTA0NQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-06-19T15:57:30Z","updated_at":"2020-06-19T15:57:30Z","author_association":"OWNER","body":"I've just enabled the tests to run on pull request with Github Actions. So hopefully test errors will show up here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/646962218","html_url":"https://github.com/willmcgugan/rich/pull/114#issuecomment-646962218","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/114","id":646962218,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njk2MjIxOA==","user":{"login":"sondrelg","id":25310870,"node_id":"MDQ6VXNlcjI1MzEwODcw","avatar_url":"https://avatars2.githubusercontent.com/u/25310870?v=4","gravatar_id":"","url":"https://api.github.com/users/sondrelg","html_url":"https://github.com/sondrelg","followers_url":"https://api.github.com/users/sondrelg/followers","following_url":"https://api.github.com/users/sondrelg/following{/other_user}","gists_url":"https://api.github.com/users/sondrelg/gists{/gist_id}","starred_url":"https://api.github.com/users/sondrelg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sondrelg/subscriptions","organizations_url":"https://api.github.com/users/sondrelg/orgs","repos_url":"https://api.github.com/users/sondrelg/repos","events_url":"https://api.github.com/users/sondrelg/events{/privacy}","received_events_url":"https://api.github.com/users/sondrelg/received_events","type":"User","site_admin":false},"created_at":"2020-06-20T08:21:19Z","updated_at":"2020-06-20T08:21:19Z","author_association":"CONTRIBUTOR","body":"I will definitely make an attempt at getting all the tests passing, the way they're meant to. However, when running tests in the current master branch I have the same number of failing tests as I do in the fork (23). \r\n\r\nDo tests fail for you in the master branch? If not, perhaps it's a poetry issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/646963733","html_url":"https://github.com/willmcgugan/rich/pull/114#issuecomment-646963733","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/114","id":646963733,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njk2MzczMw==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-06-20T08:38:57Z","updated_at":"2020-06-20T08:38:57Z","author_association":"OWNER","body":"That’s strange! Tests on master pass for me locally on OSX, and in Github Actions. Can you give me an example of the failing tests?\r\n\r\nWhat platform, Python version, are you using.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/646976865","html_url":"https://github.com/willmcgugan/rich/pull/114#issuecomment-646976865","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/114","id":646976865,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njk3Njg2NQ==","user":{"login":"sondrelg","id":25310870,"node_id":"MDQ6VXNlcjI1MzEwODcw","avatar_url":"https://avatars2.githubusercontent.com/u/25310870?v=4","gravatar_id":"","url":"https://api.github.com/users/sondrelg","html_url":"https://github.com/sondrelg","followers_url":"https://api.github.com/users/sondrelg/followers","following_url":"https://api.github.com/users/sondrelg/following{/other_user}","gists_url":"https://api.github.com/users/sondrelg/gists{/gist_id}","starred_url":"https://api.github.com/users/sondrelg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sondrelg/subscriptions","organizations_url":"https://api.github.com/users/sondrelg/orgs","repos_url":"https://api.github.com/users/sondrelg/repos","events_url":"https://api.github.com/users/sondrelg/events{/privacy}","received_events_url":"https://api.github.com/users/sondrelg/received_events","type":"User","site_admin":false},"created_at":"2020-06-20T10:49:26Z","updated_at":"2020-06-20T10:49:26Z","author_association":"CONTRIBUTOR","body":"Windows, and Python 3.8. Most likely I'm assuming something I shouldn't, so here's what I've done (using the original master branch) :)\r\n\r\n- I pull master, \r\n- run `poetry install`, \r\n- activate the venv, \r\n\r\nand then I *would* `make test`, but I'm on windows, so instead I just found the executing command `pytest --cov-report term-missing --cov=rich tests/ -vv`. Since pytest isn't listed in the `pyproject.toml` I need to install pytest and pytest-cov to make tests run.\r\n\r\nThe result of running the tests is `23 failed, 188 passed in 6.20s `\r\n\r\n--------------\r\n\r\n[This ](https://github.com/willmcgugan/rich/blob/master/tests/test_bar.py#L32) test is one that fails for me in both cases. \r\n\r\nFull test output\r\n\r\n```\r\n============================= test session starts =============================\r\nplatform win32 -- Python 3.8.2, pytest-5.4.3, py-1.8.2, pluggy-0.13.1 -- C:\\Users\\Sondre\\Repos\\temp\\rich\\.venv\\Scripts\\python.exe\r\ncachedir: .pytest_cache\r\nrootdir: C:\\Users\\Sondre\\Repos\\temp\\rich\\tests, inifile: pytest.ini\r\nplugins: cov-2.10.0\r\ncollecting ... collected 1 item\r\n\r\ntest_bar.py::test_render FAILED                                          [100%]\r\ntest_bar.py:31 (test_render)\r\n\\x1b[38;2;249;38;114m▓▓▓▓▓\\x1b[0m\\x1b[38;2;249;38;114m░\\x1b[0m\\x1b[38;5;237m▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓\\x1b[0m != \\x1b[38;2;249;38;114m━━━━━\\x1b[0m\\x1b[38;2;249;38;114m╸\\x1b[0m\\x1b[38;5;237m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\x1b[0m\r\n\r\nExpected :\\x1b[38;2;249;38;114m━━━━━\\x1b[0m\\x1b[38;2;249;38;114m╸\\x1b[0m\\x1b[38;5;237m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\x1b[0m\r\nActual   :\\x1b[38;2;249;38;114m▓▓▓▓▓\\x1b[0m\\x1b[38;2;249;38;114m░\\x1b[0m\\x1b[38;5;237m▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓\\x1b[0m\r\n<Click to see difference>\r\n\r\ndef test_render():\r\n        bar = Bar(completed=11, width=50)\r\n        bar_render = render(bar)\r\n>       assert bar_render == expected[0]\r\nE       AssertionError: assert '\\x1b[38;2;249;38;114m▓▓▓▓▓\\x1b[0m\\x1b[38;2;249;38;114m░\\x1b[0m\\x1b[38;5;237m▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓\\x1b[0m' == '\\x1b[38;2;249;38;114m━━━━━\\x1b[0m\\x1b[38;2;249;38;114m╸\\x1b[0m\\x1b[38;5;237m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\x1b[0m'\r\n\r\ntest_bar.py:35: AssertionError\r\n\r\n\r\n================================== FAILURES ===================================\r\n_________________________________ test_render _________________________________\r\n\r\n    def test_render():\r\n        bar = Bar(completed=11, width=50)\r\n        bar_render = render(bar)\r\n>       assert bar_render == expected[0]\r\nE       AssertionError: assert '\\x1b[38;2;249;38;114m▓▓▓▓▓\\x1b[0m\\x1b[38;2;249;38;114m░\\x1b[0m\\x1b[38;5;237m▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓\\x1b[0m' == '\\x1b[38;2;249;38;114m━━━━━\\x1b[0m\\x1b[38;2;249;38;114m╸\\x1b[0m\\x1b[38;5;237m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\x1b[0m'\r\n\r\ntest_bar.py:35: AssertionError\r\n=========================== short test summary info ===========================\r\nFAILED test_bar.py::test_render - AssertionError: assert '\\x1b[38;2;249;38;11...\r\n============================== 1 failed in 0.19s ==============================\r\n\r\nProcess finished with exit code 0\r\n\r\nAssertion failed\r\n\r\nAssertion failed\r\n```\r\n\r\nThis specific test could possibly be failing because of line 5: `from render import render`. What package is this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/646983219","html_url":"https://github.com/willmcgugan/rich/pull/114#issuecomment-646983219","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/114","id":646983219,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njk4MzIxOQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-06-20T11:31:54Z","updated_at":"2020-06-20T11:31:54Z","author_association":"OWNER","body":"Ah, you're on Windows. Rich renders a few things a little differently if it detects Windows, as cmd.exe doesn't support some unicode characters such as those used rendering progress bars.\r\n\r\nI think the solution may be a flag on the Console object to override the Windows auto-detection, so the the output is the same as OSX/Linux.\r\n\r\n> This specific test could possibly be failing because of line 5: from render import render. What package is this?\r\n\r\nThats importing from render.py in the same directory. Not sure why it's not finding that file.\r\n\r\nSo there's obviously a bit of work to do to support development on Windows, and setting up a development environment in general. I think I will look at that next. Perhaps I should merge your PR as is (test fails are minor and easy fixed). Then I'll work on the Windows / dev environment issues. How does that sound?","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/646986216","html_url":"https://github.com/willmcgugan/rich/pull/114#issuecomment-646986216","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/114","id":646986216,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njk4NjIxNg==","user":{"login":"sondrelg","id":25310870,"node_id":"MDQ6VXNlcjI1MzEwODcw","avatar_url":"https://avatars2.githubusercontent.com/u/25310870?v=4","gravatar_id":"","url":"https://api.github.com/users/sondrelg","html_url":"https://github.com/sondrelg","followers_url":"https://api.github.com/users/sondrelg/followers","following_url":"https://api.github.com/users/sondrelg/following{/other_user}","gists_url":"https://api.github.com/users/sondrelg/gists{/gist_id}","starred_url":"https://api.github.com/users/sondrelg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sondrelg/subscriptions","organizations_url":"https://api.github.com/users/sondrelg/orgs","repos_url":"https://api.github.com/users/sondrelg/repos","events_url":"https://api.github.com/users/sondrelg/events{/privacy}","received_events_url":"https://api.github.com/users/sondrelg/received_events","type":"User","site_admin":false},"created_at":"2020-06-20T12:05:21Z","updated_at":"2020-06-20T12:05:21Z","author_association":"CONTRIBUTOR","body":"Sounds great 👍 ","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/647116105","html_url":"https://github.com/willmcgugan/rich/pull/114#issuecomment-647116105","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/114","id":647116105,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzExNjEwNQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-06-21T11:35:10Z","updated_at":"2020-06-21T11:35:10Z","author_association":"OWNER","body":"I've done the work in another branch, and also cleaned up the unused imports. Thanks for prompting me to do this, it was overdue.","performed_via_github_app":null}]