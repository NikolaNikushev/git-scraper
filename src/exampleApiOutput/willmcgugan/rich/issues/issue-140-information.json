{"url":"https://api.github.com/repos/willmcgugan/rich/issues/140","repository_url":"https://api.github.com/repos/willmcgugan/rich","labels_url":"https://api.github.com/repos/willmcgugan/rich/issues/140/labels{/name}","comments_url":"https://api.github.com/repos/willmcgugan/rich/issues/140/comments","events_url":"https://api.github.com/repos/willmcgugan/rich/issues/140/events","html_url":"https://github.com/willmcgugan/rich/issues/140","id":651200457,"node_id":"MDU6SXNzdWU2NTEyMDA0NTc=","number":140,"title":"Request: do not use WT_SESSION to detect Windows Terminal","user":{"login":"DHowett","id":189190,"node_id":"MDQ6VXNlcjE4OTE5MA==","avatar_url":"https://avatars2.githubusercontent.com/u/189190?v=4","gravatar_id":"","url":"https://api.github.com/users/DHowett","html_url":"https://github.com/DHowett","followers_url":"https://api.github.com/users/DHowett/followers","following_url":"https://api.github.com/users/DHowett/following{/other_user}","gists_url":"https://api.github.com/users/DHowett/gists{/gist_id}","starred_url":"https://api.github.com/users/DHowett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DHowett/subscriptions","organizations_url":"https://api.github.com/users/DHowett/orgs","repos_url":"https://api.github.com/users/DHowett/repos","events_url":"https://api.github.com/users/DHowett/events{/privacy}","received_events_url":"https://api.github.com/users/DHowett/received_events","type":"User","site_admin":false},"labels":[{"id":1809645463,"node_id":"MDU6TGFiZWwxODA5NjQ1NDYz","url":"https://api.github.com/repos/willmcgugan/rich/labels/accepted","name":"accepted","color":"c5def5","default":false,"description":"Task was accepted"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-07-06T02:13:57Z","updated_at":"2020-07-13T09:02:26Z","closed_at":"2020-07-13T09:02:26Z","author_association":"NONE","active_lock_reason":null,"body":"There's a small handful of issues with detecting `WT_SESSION` and using that as an indicator that you can use advanced VT:\r\n\r\n* `WT_SESSION` is not an API, and it was my greatest fear when we introduced it that people would use it for feature detection\r\n   * This is why I (so far) refuse to add support for `TERM_PROGRAM` or `TERM_PROGRAM_VERSION`, and would rather us standardize on `TERM` :smile:\r\n* It _will not_ be set by other terminal emulators using the pseudoconsole API (like Visual Studio's terminal, which is built on the WT renderer and where they're considering shipping a copy of OpenConsole down to Windows 10 RS4)\r\n* Everything WT supports is supported by the conhost instance that it uses to back every tab\r\n* Every change to conhost (and therefore WT's VT support) flows back out through the Windows insider program and eventually lands for all console users in the stable builds\r\n\r\nIt's safer to use feature detection for the console. If you can enable `ENABLE_VIRTUAL_TERMINAL_PROCESSING`, VT is supported; version detection is required for _some things_, unfortunately: if you're beyond 10.0.15063 24-bit color is supported.","closed_by":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"performed_via_github_app":null}