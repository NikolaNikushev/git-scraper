[{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653080551","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653080551","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653080551,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzA4MDU1MQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-07-02T15:40:33Z","updated_at":"2020-07-02T15:40:33Z","author_association":"OWNER","body":"You can set `no_wrap=True` on the columns you don't want to wrap.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653104474","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653104474","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653104474,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzEwNDQ3NA==","user":{"login":"htarnacki","id":49711873,"node_id":"MDQ6VXNlcjQ5NzExODcz","avatar_url":"https://avatars1.githubusercontent.com/u/49711873?v=4","gravatar_id":"","url":"https://api.github.com/users/htarnacki","html_url":"https://github.com/htarnacki","followers_url":"https://api.github.com/users/htarnacki/followers","following_url":"https://api.github.com/users/htarnacki/following{/other_user}","gists_url":"https://api.github.com/users/htarnacki/gists{/gist_id}","starred_url":"https://api.github.com/users/htarnacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htarnacki/subscriptions","organizations_url":"https://api.github.com/users/htarnacki/orgs","repos_url":"https://api.github.com/users/htarnacki/repos","events_url":"https://api.github.com/users/htarnacki/events{/privacy}","received_events_url":"https://api.github.com/users/htarnacki/received_events","type":"User","site_admin":false},"created_at":"2020-07-02T16:24:00Z","updated_at":"2020-07-02T16:24:00Z","author_association":"NONE","body":"Look at the screenshot i have provided before. The first 3 columns have followings properties:\r\noverflow = fold\r\nno_wrap = True\r\nSo i have alredy tried to set no_wrap but without success. First 3 columns are shrinked even the last column have a lot of space. The last column has: overflow = ellipsis and no_wrap is not set.\r\nVersion 3.0.1","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653107674","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653107674","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653107674,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzEwNzY3NA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-07-02T16:30:39Z","updated_at":"2020-07-02T16:30:39Z","author_association":"OWNER","body":"That should work. Iâ€™ll need to see the code you use to generate the table to offer more suggestions.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653173246","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653173246","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653173246,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzE3MzI0Ng==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-07-02T19:02:37Z","updated_at":"2020-07-02T19:02:37Z","author_association":"OWNER","body":"I think the issue may be that all four columns can't wrap (the last column can't wrap because there are no spaces).\r\n\r\nTry v3.0.2 there is a change that prioritizes no_wrap columns.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653432953","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653432953","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653432953,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzQzMjk1Mw==","user":{"login":"htarnacki","id":49711873,"node_id":"MDQ6VXNlcjQ5NzExODcz","avatar_url":"https://avatars1.githubusercontent.com/u/49711873?v=4","gravatar_id":"","url":"https://api.github.com/users/htarnacki","html_url":"https://github.com/htarnacki","followers_url":"https://api.github.com/users/htarnacki/followers","following_url":"https://api.github.com/users/htarnacki/following{/other_user}","gists_url":"https://api.github.com/users/htarnacki/gists{/gist_id}","starred_url":"https://api.github.com/users/htarnacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htarnacki/subscriptions","organizations_url":"https://api.github.com/users/htarnacki/orgs","repos_url":"https://api.github.com/users/htarnacki/repos","events_url":"https://api.github.com/users/htarnacki/events{/privacy}","received_events_url":"https://api.github.com/users/htarnacki/received_events","type":"User","site_admin":false},"created_at":"2020-07-03T08:51:04Z","updated_at":"2020-07-03T10:22:56Z","author_association":"NONE","body":"a little bit better right now but not perfect ;-)\r\nlet us see how it behaves right now:\r\n\r\n```\r\nheaders = [\r\n    {'name': 'Name', 'overflow': 'fold', 'no_wrap': True},\r\n    {'name': 'State', 'overflow': 'fold', 'no_wrap': True},\r\n    {'name': 'Healthcheck', 'overflow': 'fold', 'no_wrap': True},\r\n    {'name': 'Image', 'overflow': 'ellipsis'},\r\n    {'name': 'Container name', 'overflow': 'ellipsis'},\r\n    {'name': 'Version', 'overflow': 'ellipsis'},\r\n    {'name': 'Ports', 'overflow': 'ellipsis'}]\r\n\r\n```\r\n\r\n1.\r\n![1](https://user-images.githubusercontent.com/49711873/86443438-8f074980-bd0f-11ea-9840-4d93be72116f.png)\r\n\r\n2. as we can see last 4 columns start shrinking\r\n![2](https://user-images.githubusercontent.com/49711873/86443411-84e54b00-bd0f-11ea-92c0-70ca6fe04483.png)\r\n\r\n3. ports column has vanished\r\n![3](https://user-images.githubusercontent.com/49711873/86443787-0e951880-bd10-11ea-8a40-7341f9616830.png)\r\n\r\n4. last columns shrink more then \"Image\" column, header for \"Container name\" column is both wrapping and shrinking\r\n![4](https://user-images.githubusercontent.com/49711873/86443961-4f8d2d00-bd10-11ea-8aff-3b5834f30382.png)\r\n\r\n5. \"Name\" column starts shrinking and header for \"Healthcheck\" columns starts shrinking\r\n![5](https://user-images.githubusercontent.com/49711873/86444262-c7f3ee00-bd10-11ea-908c-1c383e2c9a1d.png)\r\n\r\n6. \"State\" column starts shrinking. 'Image' column still have a lot of space\r\n![6](https://user-images.githubusercontent.com/49711873/86444384-f671c900-bd10-11ea-82d4-900e349059a1.png)\r\n\r\n\r\nHow i see wrapping/shrinking functionality should work:\r\n\r\n1. we should have following column attributes:\r\n\r\n**overflow behaviour:** \r\nwrap:\r\n```\r\nfirst\r\nsecond\r\n```\r\ncut_start:\r\n```\r\nirst second\r\n```\r\ncut_end:\r\n```\r\nfirst sec\r\n```\r\nellipsis_start:\r\n```\r\n...st second\r\n```\r\nellipsis_end:\r\n```\r\nfirst se...\r\n```\r\nno_change (keep string unchanged, fixed width, no wrap, no shrink):\r\n```\r\nfirst second\r\n```\r\n[wrap, cut_start]:\r\n```\r\nirst\r\necond\r\n```\r\n[wrap, cut_end]:\r\n```\r\nfirs\r\nseco\r\n```\r\n[wrap, ellipsis_start]:\r\n```\r\n...st\r\n...nd\r\n```\r\n[wrap, ellipsis_end]:\r\n```\r\nfi...\r\nse...\r\n```\r\n\r\n**overflow headers behaviour:** \r\nwrap, cut_start, cut_end, ellipsis_start, ellipsis_end, no_change, [wrap, cut_start], [wrap, cut_end], [wrap, ellipsis_start], [wrap, ellipsis_end], None (default, means use the same value as for 'overflow behaviour')\r\n\r\n_so there are generally 2 groups of overflow actions:_\r\nwrapping: wrap\r\nshrinking: cut_start, cut_end, ellipsis_start, ellipsis_end\r\n\r\n**shrink column priority/ratio:** \r\n1, 3, 5, ... (any positive int value, higher value means higher susceptibility to shrinkage)\r\nso for example if we need to shrink table row by 10 chars then: \r\n1 + 3 + 5 = 9\r\nshrink first column by 1/9 * 10 characters\r\nshrink second column by 3/9 * 10 characters\r\nshrink third column by 5/9 * 10 characters\r\n\r\n**wrap_chars:** \r\n' \\t\\n,:;/-()[]{}' -> configurable list of characters that can be used for wrapping\r\nNone -> wrap by any character (if overflow action is set to 'wrap')\r\ndefault -> wrap by whitespace characters\r\n\r\n\r\n2. general overflow logic:\r\n- first try to do wrapping on columns with overflow wrap action\r\n- repeat wrapping until there is nothing more that can be wrapped\r\n- next if still not enogh space then start shrinking taking shrink priorities/ratios into consideration\r\n- column values shouldn't be shrinked more than their headers so for example if header has 'no_change' overflow action then len(header) is the minimum width for the whole column","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653521490","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653521490","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653521490,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzUyMTQ5MA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-07-03T12:19:45Z","updated_at":"2020-07-03T12:19:45Z","author_association":"OWNER","body":"The excess space is currently removed evenly from the non `no_wrap` columns. Which is why small columns will disappear first.\r\n\r\nI'm sure there is improvements to be had in the column shrinking logic, I'm not convinced its worth going to such efforts with regards to configuring priorities and extra overflow methods. I'm using HTML tables as my guide and if the browser doesn't do it, it's going to be a hard sell to ask me to implement something. \r\n\r\nAt the end of the day, if you have more text than can fit, it's going to be imperfect no matter how it's configured. My suggestion for your table would be to make more of the columns `no_wrap` and allow wrapping on the Image column. If those are URLs, consider the `link` attribute which will work even if the text overflows.\r\n\r\nIf you want to tackle the table shrinking algorithm yourself, see `Table._calculate_column_widths`. I'll consider any suggestions for improvements, and I'd be happy to accept a PR.\r\n\r\nI like the idea of specifying the characters to wrap on. I think that would be worthwhile adding to the Text class.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653568509","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653568509","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653568509,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzU2ODUwOQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-07-03T14:15:09Z","updated_at":"2020-07-03T14:15:09Z","author_association":"OWNER","body":"You might want to give the `table-shrink` branch a try. I'm experimenting with a different algorithm to reduce table sizes.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653584620","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653584620","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653584620,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzU4NDYyMA==","user":{"login":"htarnacki","id":49711873,"node_id":"MDQ6VXNlcjQ5NzExODcz","avatar_url":"https://avatars1.githubusercontent.com/u/49711873?v=4","gravatar_id":"","url":"https://api.github.com/users/htarnacki","html_url":"https://github.com/htarnacki","followers_url":"https://api.github.com/users/htarnacki/followers","following_url":"https://api.github.com/users/htarnacki/following{/other_user}","gists_url":"https://api.github.com/users/htarnacki/gists{/gist_id}","starred_url":"https://api.github.com/users/htarnacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htarnacki/subscriptions","organizations_url":"https://api.github.com/users/htarnacki/orgs","repos_url":"https://api.github.com/users/htarnacki/repos","events_url":"https://api.github.com/users/htarnacki/events{/privacy}","received_events_url":"https://api.github.com/users/htarnacki/received_events","type":"User","site_admin":false},"created_at":"2020-07-03T14:55:52Z","updated_at":"2020-07-03T14:55:52Z","author_association":"NONE","body":"It is much, much better right now ;-) thx!\r\n![Zrzut_ekranu_2020-07-03-165054](https://user-images.githubusercontent.com/49711873/86479977-70c03e80-bd4d-11ea-88f3-1738de17448f.png)\r\n\r\ncould you at least consider adding: ellipsis_start?\r\nThis should be extremely simple. In my case there are columns where last part of the string is more important then beginning:\r\n abcdefgh... -> ...defghijk\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653644196","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653644196","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653644196,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzY0NDE5Ng==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-07-03T18:30:20Z","updated_at":"2020-07-03T18:30:20Z","author_association":"OWNER","body":"New algorithm is in v3.0.3\r\n\r\n> could you at least consider adding: ellipsis_start?\r\n\r\nI'll consider it for a future update.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/653674873","html_url":"https://github.com/willmcgugan/rich/issues/132#issuecomment-653674873","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/132","id":653674873,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzY3NDg3Mw==","user":{"login":"htarnacki","id":49711873,"node_id":"MDQ6VXNlcjQ5NzExODcz","avatar_url":"https://avatars1.githubusercontent.com/u/49711873?v=4","gravatar_id":"","url":"https://api.github.com/users/htarnacki","html_url":"https://github.com/htarnacki","followers_url":"https://api.github.com/users/htarnacki/followers","following_url":"https://api.github.com/users/htarnacki/following{/other_user}","gists_url":"https://api.github.com/users/htarnacki/gists{/gist_id}","starred_url":"https://api.github.com/users/htarnacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htarnacki/subscriptions","organizations_url":"https://api.github.com/users/htarnacki/orgs","repos_url":"https://api.github.com/users/htarnacki/repos","events_url":"https://api.github.com/users/htarnacki/events{/privacy}","received_events_url":"https://api.github.com/users/htarnacki/received_events","type":"User","site_admin":false},"created_at":"2020-07-03T20:53:00Z","updated_at":"2020-07-03T20:53:00Z","author_association":"NONE","body":"thx!","performed_via_github_app":null}]