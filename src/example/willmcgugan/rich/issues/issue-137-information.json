{"url":"https://api.github.com/repos/willmcgugan/rich/issues/137","repository_url":"https://api.github.com/repos/willmcgugan/rich","labels_url":"https://api.github.com/repos/willmcgugan/rich/issues/137/labels{/name}","comments_url":"https://api.github.com/repos/willmcgugan/rich/issues/137/comments","events_url":"https://api.github.com/repos/willmcgugan/rich/issues/137/events","html_url":"https://github.com/willmcgugan/rich/issues/137","id":650784942,"node_id":"MDU6SXNzdWU2NTA3ODQ5NDI=","number":137,"title":"Can't finish a task on a progress","user":{"login":"luiscachog","id":1848897,"node_id":"MDQ6VXNlcjE4NDg4OTc=","avatar_url":"https://avatars1.githubusercontent.com/u/1848897?v=4","gravatar_id":"","url":"https://api.github.com/users/luiscachog","html_url":"https://github.com/luiscachog","followers_url":"https://api.github.com/users/luiscachog/followers","following_url":"https://api.github.com/users/luiscachog/following{/other_user}","gists_url":"https://api.github.com/users/luiscachog/gists{/gist_id}","starred_url":"https://api.github.com/users/luiscachog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luiscachog/subscriptions","organizations_url":"https://api.github.com/users/luiscachog/orgs","repos_url":"https://api.github.com/users/luiscachog/repos","events_url":"https://api.github.com/users/luiscachog/events{/privacy}","received_events_url":"https://api.github.com/users/luiscachog/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-07-03T22:40:05Z","updated_at":"2020-07-04T02:12:03Z","closed_at":"2020-07-04T02:12:02Z","author_association":"NONE","active_lock_reason":null,"body":"Hello,\r\n\r\nI'm trying to implement some progress bar, but when I use a `track` function within a `for` when the task finishes it renders green. From my point of view, this means, that the task finished successfully.\r\n\r\n```python\r\nfor customer in track(get_credentials, description=\"Getting credentials...\"):\r\n    LOGIC WITHIN A FOR LOOP\r\n```\r\nRenders as:\r\n![this](https://i.imgur.com/wu1BWo1.png)\r\n\r\nI like this because after the process ends, the process bar renders on green color.\r\n\r\nBut when I use the following approach, when the task finishes it shows like a `working` state, instead of a `green` state.\r\n\r\n```python\r\nfrom rich.progress import Progress, track, BarColumn, TimeRemainingColumn, TaskID, TextColumn\r\n\r\nprogress = Progress(\r\n    \"[progress.description]{task.description}\",\r\n    BarColumn(),# bar_width=None),\r\n    \"[progress.percentage]{task.percentage:>3.0f}%\",\r\n    TimeRemainingColumn(),\r\n    auto_refresh=False,\r\n)\r\n\r\nwith progress:\r\n    task_1 = progress.add_task(\"[black]Getting ALL certs...\", start=False, total=100)\r\n    task_2 = progress.add_task(\"[black]Getting ALL servers...\", start=False, total=100)\r\n    task_3 = progress.add_task(\"[black]Getting ALL dns...\", start=False, total=100)\r\n\r\n    while not progress.finished:\r\n        df_all_certs = get_all_certs(session)\r\n        progress.update(task_1, advance=100, total=100, completed=100, refresh=True)\r\n\r\n        df_all_servers = get_all_servers(session)\r\n        progress.update(task_2, advance=100, total=100, completed=100,refresh=True)\r\n\r\n        df_all_dns = get_all_dns(session)\r\n        progress.update(task_3, advance=100, total=100, completed=100,refresh=True)\r\n```\r\n\r\nRenders as:\r\n\r\n![this](https://i.imgur.com/MW8v9ju.png)\r\n\r\nAs those functions are not using a `for` loop, for my understanding, I'm not able to use `track`.\r\n\r\nWhat I'm doing, is after any function ends, I update the task from 0 to 100, complete the task and perform a manual refresh, so I expected it will show the progressbar as `OK` (green) but instead, is showing was `working`\r\n\r\nHow can I get the same behavior from `track` on other tasks that do not have a sequence?\r\n\r\nAny help will be appreciated.\r\n\r\nThank you","closed_by":{"login":"luiscachog","id":1848897,"node_id":"MDQ6VXNlcjE4NDg4OTc=","avatar_url":"https://avatars1.githubusercontent.com/u/1848897?v=4","gravatar_id":"","url":"https://api.github.com/users/luiscachog","html_url":"https://github.com/luiscachog","followers_url":"https://api.github.com/users/luiscachog/followers","following_url":"https://api.github.com/users/luiscachog/following{/other_user}","gists_url":"https://api.github.com/users/luiscachog/gists{/gist_id}","starred_url":"https://api.github.com/users/luiscachog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luiscachog/subscriptions","organizations_url":"https://api.github.com/users/luiscachog/orgs","repos_url":"https://api.github.com/users/luiscachog/repos","events_url":"https://api.github.com/users/luiscachog/events{/privacy}","received_events_url":"https://api.github.com/users/luiscachog/received_events","type":"User","site_admin":false},"performed_via_github_app":null}