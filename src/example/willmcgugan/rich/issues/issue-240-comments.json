[{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/676529234","html_url":"https://github.com/willmcgugan/rich/issues/240#issuecomment-676529234","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/240","id":676529234,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjUyOTIzNA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-08-19T16:28:20Z","updated_at":"2020-08-19T16:28:20Z","author_association":"OWNER","body":"Hi Wayne,\r\n\r\nI suspect what is happening is that Rich has detected that it is not writing to a terminal. When that happens, color will be disabled and the width will default to 80.\r\n\r\nDocker might explain that, but if you are saying that you get the same result with terminal, then maybe there is something else capturing output.\r\n\r\nIf you could add this to your project somewhere, it will give us more information:\r\n\r\n```python\r\nfrom rich import get_console\r\nprint(get_console())\r\nprint(get_console().file)\r\n```\r\n\r\nAlso, please check you are running the latest version from Pypi","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/676538671","html_url":"https://github.com/willmcgugan/rich/issues/240#issuecomment-676538671","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/240","id":676538671,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjUzODY3MQ==","user":{"login":"WayneLambert","id":44729076,"node_id":"MDQ6VXNlcjQ0NzI5MDc2","avatar_url":"https://avatars1.githubusercontent.com/u/44729076?v=4","gravatar_id":"","url":"https://api.github.com/users/WayneLambert","html_url":"https://github.com/WayneLambert","followers_url":"https://api.github.com/users/WayneLambert/followers","following_url":"https://api.github.com/users/WayneLambert/following{/other_user}","gists_url":"https://api.github.com/users/WayneLambert/gists{/gist_id}","starred_url":"https://api.github.com/users/WayneLambert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WayneLambert/subscriptions","organizations_url":"https://api.github.com/users/WayneLambert/orgs","repos_url":"https://api.github.com/users/WayneLambert/repos","events_url":"https://api.github.com/users/WayneLambert/events{/privacy}","received_events_url":"https://api.github.com/users/WayneLambert/received_events","type":"User","site_admin":false},"created_at":"2020-08-19T16:45:48Z","updated_at":"2020-08-19T16:45:48Z","author_association":"NONE","body":"Hi Will,\r\n\r\nThanks for your very fast reply.\r\n\r\nI added the snippet to my project and it gave the following output within the dev server.\r\n\r\n![django-logging-with-rich2](https://user-images.githubusercontent.com/44729076/90664369-bcb63c80-e242-11ea-90dd-c67ced0b321d.png)\r\n\r\nJust a few things to clarify:\r\n\r\nI am using Docker within iTerm (like screenshot) and did an additional test still using Docker (i.e. `docker-compose up`) but within the standard terminal app. The same result appears in both.\r\n\r\nI haven't actually tested my logging config in any other project using Django's standard `runserver` command on `localhost:8000` so I wouldn't know if that works. I am guessing it would as per your blog post because I cannot see anything wrong with my config.\r\n\r\nYes, I am using the most recent version from PyPi `v5.2.0`","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/676546637","html_url":"https://github.com/willmcgugan/rich/issues/240#issuecomment-676546637","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/240","id":676546637,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjU0NjYzNw==","user":{"login":"WayneLambert","id":44729076,"node_id":"MDQ6VXNlcjQ0NzI5MDc2","avatar_url":"https://avatars1.githubusercontent.com/u/44729076?v=4","gravatar_id":"","url":"https://api.github.com/users/WayneLambert","html_url":"https://github.com/WayneLambert","followers_url":"https://api.github.com/users/WayneLambert/followers","following_url":"https://api.github.com/users/WayneLambert/following{/other_user}","gists_url":"https://api.github.com/users/WayneLambert/gists{/gist_id}","starred_url":"https://api.github.com/users/WayneLambert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WayneLambert/subscriptions","organizations_url":"https://api.github.com/users/WayneLambert/orgs","repos_url":"https://api.github.com/users/WayneLambert/repos","events_url":"https://api.github.com/users/WayneLambert/events{/privacy}","received_events_url":"https://api.github.com/users/WayneLambert/received_events","type":"User","site_admin":false},"created_at":"2020-08-19T17:02:07Z","updated_at":"2020-08-19T17:02:07Z","author_association":"NONE","body":"Hi Will,\r\n\r\nFurther to above and your original answer, I did some research and found the following [StackOverflow post](https://stackoverflow.com/questions/28072259/when-running-a-django-dev-server-with-docker-fig-why-is-some-of-the-log-output).\r\n\r\nIt suggested that I need the following key adding to my `web` service (for my setup) within my `docker-compose.yml` file:\r\n\r\n```yml\r\ntty: true\r\n```\r\n\r\nFollowing that addition, then rebuilding my images and bring up the containers again, I now have...\r\n\r\n![django-logging-with-rich3](https://user-images.githubusercontent.com/44729076/90666562-7c0bf280-e245-11ea-8fa8-9eafd9065fbb.png)\r\n\r\nAs you can see, now I have colour, however the width still seems to be constrained to 80 chars.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/676566695","html_url":"https://github.com/willmcgugan/rich/issues/240#issuecomment-676566695","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/240","id":676566695,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjU2NjY5NQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-08-19T17:42:02Z","updated_at":"2020-08-19T17:42:02Z","author_association":"OWNER","body":"That's progress.\r\n\r\ncan you do `print(get_console().size)`.\r\n\r\nI suspect that will return 80x25 which means it has failed to detect the terminal size, or it has been override somehow.\r\n\r\nCan you also do `print(shutil.get_terminal_size())` which is the terminal size as reported by the OS.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/676615473","html_url":"https://github.com/willmcgugan/rich/issues/240#issuecomment-676615473","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/240","id":676615473,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjYxNTQ3Mw==","user":{"login":"WayneLambert","id":44729076,"node_id":"MDQ6VXNlcjQ0NzI5MDc2","avatar_url":"https://avatars1.githubusercontent.com/u/44729076?v=4","gravatar_id":"","url":"https://api.github.com/users/WayneLambert","html_url":"https://github.com/WayneLambert","followers_url":"https://api.github.com/users/WayneLambert/followers","following_url":"https://api.github.com/users/WayneLambert/following{/other_user}","gists_url":"https://api.github.com/users/WayneLambert/gists{/gist_id}","starred_url":"https://api.github.com/users/WayneLambert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WayneLambert/subscriptions","organizations_url":"https://api.github.com/users/WayneLambert/orgs","repos_url":"https://api.github.com/users/WayneLambert/repos","events_url":"https://api.github.com/users/WayneLambert/events{/privacy}","received_events_url":"https://api.github.com/users/WayneLambert/received_events","type":"User","site_admin":false},"created_at":"2020-08-19T19:25:23Z","updated_at":"2020-08-19T19:25:23Z","author_association":"NONE","body":"OK, following a bit more research, I found a solution to the issue.\r\n\r\nThere is a variable in `zsh` (and other Unix shells) called `COLUMNS`. From this discovery, I then amended the `Dockerfile` responsible for the dev build and added a step within it's build process:\r\n\r\n```Dockerfile\r\n...\r\n# Set the COLUMNS variable for the terminal's output width\r\nENV COLUMNS 164\r\n...\r\n```\r\n\r\nSomeone else may need to customise that value for their desired window width.\r\n\r\nAfter the rebuild, bringing the container (dev server) back up, and widening the iTerm window, it gave me the following:\r\n\r\n![django-logging-with-rich6](https://user-images.githubusercontent.com/44729076/90677909-ee84ce80-e255-11ea-815c-90ef27e35dd0.png)\r\n\r\nPerfect!\r\n\r\nFor anyone wanting to use Django, Docker, and Rich together, I have recorded the overall solution to the issue in a commit.\r\n\r\n- [Changes Required Git Diff](https://github.com/WayneLambert/portfolio/commit/15de5f40b8bf2caec18710a926428dce3f35357a)\r\n- Check the [settings.py](https://github.com/WayneLambert/portfolio/blob/15de5f40b8bf2caec18710a926428dce3f35357a/ab_back_end/settings.py#L121) file for the LOGGING config\r\n\r\nThanks for your help, @willmcgugan","performed_via_github_app":null}]