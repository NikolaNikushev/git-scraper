[{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/687183364","html_url":"https://github.com/willmcgugan/rich/issues/264#issuecomment-687183364","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/264","id":687183364,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzE4MzM2NA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-09-04T14:33:46Z","updated_at":"2020-09-04T14:33:46Z","author_association":"OWNER","body":"Markdown code blocks are not guaranteed to be cut'n'paste-able. Even without the panel, text may be hard-wrapped which will mean it won't run without modification.\r\n\r\nHowever, if you would like to remove the panel, you can make a custom Markdown renderer with little effort.\r\n\r\nSomething along these lines:\r\n\r\n```python\r\nclass MyCodeBlock(CodeBlock):\r\n    def __rich_console__(\r\n        self, console: Console, options: ConsoleOptions\r\n    ) -> RenderResult:\r\n        code = str(self.text).rstrip()\r\n        syntax = Syntax(code, self.lexer_name, theme=self.theme),\r\n        yield syntax\r\n\r\nMarkdown.elements[\"code_block\"] = MyCodeBlock\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/695785530","html_url":"https://github.com/willmcgugan/rich/issues/264#issuecomment-695785530","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/264","id":695785530,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTc4NTUzMA==","user":{"login":"ssbarnea","id":102495,"node_id":"MDQ6VXNlcjEwMjQ5NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/102495?v=4","gravatar_id":"","url":"https://api.github.com/users/ssbarnea","html_url":"https://github.com/ssbarnea","followers_url":"https://api.github.com/users/ssbarnea/followers","following_url":"https://api.github.com/users/ssbarnea/following{/other_user}","gists_url":"https://api.github.com/users/ssbarnea/gists{/gist_id}","starred_url":"https://api.github.com/users/ssbarnea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssbarnea/subscriptions","organizations_url":"https://api.github.com/users/ssbarnea/orgs","repos_url":"https://api.github.com/users/ssbarnea/repos","events_url":"https://api.github.com/users/ssbarnea/events{/privacy}","received_events_url":"https://api.github.com/users/ssbarnea/received_events","type":"User","site_admin":false},"created_at":"2020-09-20T13:09:59Z","updated_at":"2020-09-20T13:20:32Z","author_association":"CONTRIBUTOR","body":"Something is missing from this example, as I got this error when trying to override it:\r\n```\r\n  File \"/Users/ssbarnea/c/os/gri/lib/gri/__main__.py\", line 120, in display_config\r\n    term.print(Markdown(\"```\\n%s\\n```\" % msg))\r\n  File \"/Users/ssbarnea/.pyenv/versions/3.8.2/lib/python3.8/site-packages/rich/console.py\", line 894, in print\r\n    extend(render(renderable, render_options))\r\n  File \"/Users/ssbarnea/.pyenv/versions/3.8.2/lib/python3.8/site-packages/rich/console.py\", line 613, in render\r\n    for render_output in iter_render:\r\n  File \"/Users/ssbarnea/.pyenv/versions/3.8.2/lib/python3.8/site-packages/rich/markdown.py\", line 522, in __rich_console__\r\n    yield from console.render(element, context.options)\r\n  File \"/Users/ssbarnea/.pyenv/versions/3.8.2/lib/python3.8/site-packages/rich/console.py\", line 617, in render\r\n    yield from self.render(render_output, _options)\r\n  File \"/Users/ssbarnea/.pyenv/versions/3.8.2/lib/python3.8/site-packages/rich/console.py\", line 602, in render\r\n    raise errors.NotRenderableError(\r\nrich.errors.NotRenderableError: Unable to render (<rich.syntax.Syntax object at 0x10783b550>,); A str, Segment or object with __rich_console__ method is required\r\n```\r\n\r\nI was able to fix it by removing the Tuple around Syntax:\r\n```\r\n        syntax = Syntax(code, self.lexer_name, theme=self.theme)\r\n```","performed_via_github_app":null}]