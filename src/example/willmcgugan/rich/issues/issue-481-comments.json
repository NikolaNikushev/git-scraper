[{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743727349","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743727349","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743727349,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzcyNzM0OQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T09:06:55Z","updated_at":"2020-12-12T09:06:55Z","author_association":"OWNER","body":"If you don’t want to use the context manager, you will need to call start and stop methods manually.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743727469","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743727469","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743727469,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzcyNzQ2OQ==","user":{"login":"nicofirst1","id":17785441,"node_id":"MDQ6VXNlcjE3Nzg1NDQx","avatar_url":"https://avatars0.githubusercontent.com/u/17785441?v=4","gravatar_id":"","url":"https://api.github.com/users/nicofirst1","html_url":"https://github.com/nicofirst1","followers_url":"https://api.github.com/users/nicofirst1/followers","following_url":"https://api.github.com/users/nicofirst1/following{/other_user}","gists_url":"https://api.github.com/users/nicofirst1/gists{/gist_id}","starred_url":"https://api.github.com/users/nicofirst1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicofirst1/subscriptions","organizations_url":"https://api.github.com/users/nicofirst1/orgs","repos_url":"https://api.github.com/users/nicofirst1/repos","events_url":"https://api.github.com/users/nicofirst1/events{/privacy}","received_events_url":"https://api.github.com/users/nicofirst1/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T09:08:31Z","updated_at":"2020-12-12T09:19:55Z","author_association":"NONE","body":"So something like\r\n``` \r\ndef on_batch_end(\r\n        self, logs: Interaction, loss: float, batch_id: int, is_training: bool\r\n    ): \r\n        # update the relative task  \r\n            self.progress.start()\r\n            if is_training:\r\n                self.progress.update(self.train_p, advance=1)\r\n            else:\r\n                self.progress.update(self.eval_p, advance=1)\r\n            self.progress.stop()\r\n```\r\n?","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743731000","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743731000","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743731000,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzczMTAwMA==","user":{"login":"nicofirst1","id":17785441,"node_id":"MDQ6VXNlcjE3Nzg1NDQx","avatar_url":"https://avatars0.githubusercontent.com/u/17785441?v=4","gravatar_id":"","url":"https://api.github.com/users/nicofirst1","html_url":"https://github.com/nicofirst1","followers_url":"https://api.github.com/users/nicofirst1/followers","following_url":"https://api.github.com/users/nicofirst1/following{/other_user}","gists_url":"https://api.github.com/users/nicofirst1/gists{/gist_id}","starred_url":"https://api.github.com/users/nicofirst1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicofirst1/subscriptions","organizations_url":"https://api.github.com/users/nicofirst1/orgs","repos_url":"https://api.github.com/users/nicofirst1/repos","events_url":"https://api.github.com/users/nicofirst1/events{/privacy}","received_events_url":"https://api.github.com/users/nicofirst1/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T09:42:25Z","updated_at":"2020-12-12T09:42:25Z","author_association":"NONE","body":"Could you tell me why something like the following does not show any output?\r\n\r\n```\r\nclass CustomLogger(Callback):\r\n    def __init__(\r\n        self,\r\n        n_epochs=-1,\r\n        train_data_len=None,\r\n        eval_data_len=None,\r\n    ):\r\n        self.n_epochs = n_epochs\r\n        self.cur_epoch = 1\r\n        self.train_data_len = train_data_len\r\n        self.eval_data_len = eval_data_len\r\n        self.progress = Progress()\r\n        self.train_p = self.progress.add_task(\r\n            description=\"Train\", start=False, visible=False, total=self.train_data_len\r\n        )\r\n        self.eval_p = self.progress.add_task(\r\n            description=\"Eval\", start=False, visible=False, total=self.eval_data_len\r\n        )\r\n\r\n    def on_epoch_begin(self, epoch: int):\r\n        self.progress.start_task(self.train_p)\r\n        self.progress.update(self.train_p, visible=True)\r\n\r\n    def on_epoch_end(self, loss: float, logs: Interaction, epoch: int):\r\n        self.cur_epoch += 1\r\n        self.progress.stop_task(self.train_p)\r\n        self.progress.update(self.train_p, visible=False)\r\n        self.progress.reset(\r\n            task_id=self.train_p, total=self.train_data_len, start=False, visible=False\r\n        )\r\n\r\n    def on_test_begin(self, epoch: int):\r\n        self.progress.start_task(self.eval_p)\r\n        self.progress.update(self.eval_p, visible=True)\r\n\r\n    def on_test_end(self, loss: float, logs: Interaction, epoch: int):\r\n        self.progress.stop_task(self.eval_p)\r\n        self.progress.update(self.eval_peval_p, visible=False)\r\n        self.progress.reset(\r\n            task_id=self.eval_p, total=self.eval_data_len, start=False, visible=False\r\n        )\r\n\r\n    def on_batch_end(\r\n        self, logs: Interaction, loss: float, batch_id: int, is_training: bool\r\n    ):\r\n        to_print = f\"\\rEpoch {self.cur_epoch}\"\r\n\r\n        if self.n_epochs > 0:\r\n            to_print += f\"/{self.n_epochs}\"\r\n        to_print += \" | \"\r\n\r\n        self.progress.start()\r\n        if is_training:\r\n            self.progress.update(self.train_p, refresh=True)\r\n        else:\r\n            self.progress.update(self.eval_p, refresh=True)\r\n        self.progress.stop()\r\n```\r\nThe methods are called like this:\r\n```\r\n__init__ -> on_epoch_begin -> N * on_batch_end -> on_test_begin -> N * on_batch_end -> on_test_end -> on_epoch_begin ...\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743734199","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743734199","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743734199,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzczNDE5OQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T10:13:57Z","updated_at":"2020-12-12T10:13:57Z","author_association":"OWNER","body":"Start and stop should be called once each. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743734881","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743734881","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743734881,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzczNDg4MQ==","user":{"login":"nicofirst1","id":17785441,"node_id":"MDQ6VXNlcjE3Nzg1NDQx","avatar_url":"https://avatars0.githubusercontent.com/u/17785441?v=4","gravatar_id":"","url":"https://api.github.com/users/nicofirst1","html_url":"https://github.com/nicofirst1","followers_url":"https://api.github.com/users/nicofirst1/followers","following_url":"https://api.github.com/users/nicofirst1/following{/other_user}","gists_url":"https://api.github.com/users/nicofirst1/gists{/gist_id}","starred_url":"https://api.github.com/users/nicofirst1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicofirst1/subscriptions","organizations_url":"https://api.github.com/users/nicofirst1/orgs","repos_url":"https://api.github.com/users/nicofirst1/repos","events_url":"https://api.github.com/users/nicofirst1/events{/privacy}","received_events_url":"https://api.github.com/users/nicofirst1/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T10:20:31Z","updated_at":"2020-12-12T10:20:31Z","author_association":"NONE","body":"I moved the `self.progress.start()` in the init after the `self.progress = Progress()` and removed the `start/stop`  in the `on_batch_end` method but still nothing is being printed","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743737958","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743737958","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743737958,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzczNzk1OA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T10:48:45Z","updated_at":"2020-12-12T10:48:45Z","author_association":"OWNER","body":"‘Self.progress.console.print(“here”)’ will check if Rich output is working at all. Otherwise, I’m afraid I can’t help you with the debugging. Refer to downloader.py in examples dir for a reference.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743741699","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743741699","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743741699,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc0MTY5OQ==","user":{"login":"nicofirst1","id":17785441,"node_id":"MDQ6VXNlcjE3Nzg1NDQx","avatar_url":"https://avatars0.githubusercontent.com/u/17785441?v=4","gravatar_id":"","url":"https://api.github.com/users/nicofirst1","html_url":"https://github.com/nicofirst1","followers_url":"https://api.github.com/users/nicofirst1/followers","following_url":"https://api.github.com/users/nicofirst1/following{/other_user}","gists_url":"https://api.github.com/users/nicofirst1/gists{/gist_id}","starred_url":"https://api.github.com/users/nicofirst1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicofirst1/subscriptions","organizations_url":"https://api.github.com/users/nicofirst1/orgs","repos_url":"https://api.github.com/users/nicofirst1/repos","events_url":"https://api.github.com/users/nicofirst1/events{/privacy}","received_events_url":"https://api.github.com/users/nicofirst1/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T11:23:08Z","updated_at":"2020-12-12T11:23:08Z","author_association":"NONE","body":"Yes, `self.progress.console.print(\"here\")` works if i put here:\r\n```\r\n    def on_batch_end(\r\n        self, logs: Interaction, loss: float, batch_id: int, is_training: bool\r\n    ):\r\n\r\n\r\n        if is_training:\r\n            self.progress.update(self.train_p, refresh=True)\r\n        else:\r\n            self.progress.update(self.eval_p, refresh=True)\r\n        self.progress.console.print(\"here\")\r\n\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743742485","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743742485","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743742485,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc0MjQ4NQ==","user":{"login":"nicofirst1","id":17785441,"node_id":"MDQ6VXNlcjE3Nzg1NDQx","avatar_url":"https://avatars0.githubusercontent.com/u/17785441?v=4","gravatar_id":"","url":"https://api.github.com/users/nicofirst1","html_url":"https://github.com/nicofirst1","followers_url":"https://api.github.com/users/nicofirst1/followers","following_url":"https://api.github.com/users/nicofirst1/following{/other_user}","gists_url":"https://api.github.com/users/nicofirst1/gists{/gist_id}","starred_url":"https://api.github.com/users/nicofirst1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicofirst1/subscriptions","organizations_url":"https://api.github.com/users/nicofirst1/orgs","repos_url":"https://api.github.com/users/nicofirst1/repos","events_url":"https://api.github.com/users/nicofirst1/events{/privacy}","received_events_url":"https://api.github.com/users/nicofirst1/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T11:31:01Z","updated_at":"2020-12-12T11:31:01Z","author_association":"NONE","body":"With a little debugging I found out that the condition `self.console.is_terminal` fails [here](https://github.com/willmcgugan/rich/blob/26a27bbf284368a9192e3f0dc0421fb4ca731897/rich/progress.py#L897)\r\n\r\nMaybe it is because I'm using Pycharm?","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743743220","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743743220","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743743220,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc0MzIyMA==","user":{"login":"nicofirst1","id":17785441,"node_id":"MDQ6VXNlcjE3Nzg1NDQx","avatar_url":"https://avatars0.githubusercontent.com/u/17785441?v=4","gravatar_id":"","url":"https://api.github.com/users/nicofirst1","html_url":"https://github.com/nicofirst1","followers_url":"https://api.github.com/users/nicofirst1/followers","following_url":"https://api.github.com/users/nicofirst1/following{/other_user}","gists_url":"https://api.github.com/users/nicofirst1/gists{/gist_id}","starred_url":"https://api.github.com/users/nicofirst1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicofirst1/subscriptions","organizations_url":"https://api.github.com/users/nicofirst1/orgs","repos_url":"https://api.github.com/users/nicofirst1/repos","events_url":"https://api.github.com/users/nicofirst1/events{/privacy}","received_events_url":"https://api.github.com/users/nicofirst1/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T11:37:32Z","updated_at":"2020-12-12T11:37:32Z","author_association":"NONE","body":"Indeed it was a Pycharm problem and the solution reported [in a previous issue](https://github.com/willmcgugan/rich/issues/206#issuecomment-672708368)","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/743743533","html_url":"https://github.com/willmcgugan/rich/issues/481#issuecomment-743743533","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/481","id":743743533,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc0MzUzMw==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-12-12T11:40:34Z","updated_at":"2020-12-12T11:40:34Z","author_association":"OWNER","body":"Ah. There is a note [here](https://rich.readthedocs.io/en/latest/introduction.html#requirements) about a potential fix. But you will probably get better results with a terminal.","performed_via_github_app":null}]