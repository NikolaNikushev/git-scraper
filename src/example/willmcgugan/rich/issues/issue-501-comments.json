[{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/745459370","html_url":"https://github.com/willmcgugan/rich/issues/501#issuecomment-745459370","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/501","id":745459370,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ1OTM3MA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-12-15T17:53:55Z","updated_at":"2020-12-15T17:53:55Z","author_association":"OWNER","body":"The `soft_wrap` option affects printing text only. It won't have any impact on renderables that contain text, such as a Table.\r\n\r\nSoft wrapping in Rich is not really a concept that translates to tables, which are always constrained by the width of the terminal. The contents of the cells may wrap as needed to fit the table within the terminal.\r\n\r\nThe only difference between the two tables in your screenshot is that when it is piped, Rich defaults to 80 characters because it's not writing directly to a terminal. But there isn't any particular special behaviour for piped output.\r\n\r\nRich's tables were designed for display to a human and aren't great for further processing by a machine. I'm not sure what your use-case is but I'd probably opt for a switch that writes output more easily consumed by another process. If you must generate super-wide tables, you could go with this approach, but its basically the same as COLUMNS.\r\n\r\n```python\r\nconsole = Console(width=10**9 if sys.stdout.isatty() else None)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/745461987","html_url":"https://github.com/willmcgugan/rich/issues/501#issuecomment-745461987","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/501","id":745461987,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ2MTk4Nw==","user":{"login":"acabal","id":866144,"node_id":"MDQ6VXNlcjg2NjE0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/866144?v=4","gravatar_id":"","url":"https://api.github.com/users/acabal","html_url":"https://github.com/acabal","followers_url":"https://api.github.com/users/acabal/followers","following_url":"https://api.github.com/users/acabal/following{/other_user}","gists_url":"https://api.github.com/users/acabal/gists{/gist_id}","starred_url":"https://api.github.com/users/acabal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acabal/subscriptions","organizations_url":"https://api.github.com/users/acabal/orgs","repos_url":"https://api.github.com/users/acabal/repos","events_url":"https://api.github.com/users/acabal/events{/privacy}","received_events_url":"https://api.github.com/users/acabal/received_events","type":"User","site_admin":false},"created_at":"2020-12-15T17:58:27Z","updated_at":"2020-12-15T17:58:27Z","author_association":"NONE","body":"Basically, the use case is being piped through GNU Parallel to process a large amount of long running invocations faster. These invocations print tables as their output, and that output can be very verbose so hard wrapping severely affects readability. Even though Parallel doesn't do any \"processing\" on the output, it still basically works as a pipe, and so Rich's output gets hard-wrapped unexpectedly for the human user.\r\n\r\nIMHO any output that goes through a pipe should not be hard-wrapped; if a human is not meant to see it, then presumably a program will need to process it without hard-wrapping; and if a human *is* meant to see it, like in our use case, then the output should be the same as when not piped, as expected.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/745473132","html_url":"https://github.com/willmcgugan/rich/issues/501#issuecomment-745473132","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/501","id":745473132,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ3MzEzMg==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-12-15T18:18:07Z","updated_at":"2020-12-15T18:18:07Z","author_association":"OWNER","body":"I'm not sure if we're on the same page here... To be clear when the output is piped, Rich does not treat it any differently than when its shown on the terminal. The only thing that differs is the \"width\" of the terminal. If you resize your terminal to 80 you will get the same output.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/745476408","html_url":"https://github.com/willmcgugan/rich/issues/501#issuecomment-745476408","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/501","id":745476408,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ3NjQwOA==","user":{"login":"acabal","id":866144,"node_id":"MDQ6VXNlcjg2NjE0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/866144?v=4","gravatar_id":"","url":"https://api.github.com/users/acabal","html_url":"https://github.com/acabal","followers_url":"https://api.github.com/users/acabal/followers","following_url":"https://api.github.com/users/acabal/following{/other_user}","gists_url":"https://api.github.com/users/acabal/gists{/gist_id}","starred_url":"https://api.github.com/users/acabal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acabal/subscriptions","organizations_url":"https://api.github.com/users/acabal/orgs","repos_url":"https://api.github.com/users/acabal/repos","events_url":"https://api.github.com/users/acabal/events{/privacy}","received_events_url":"https://api.github.com/users/acabal/received_events","type":"User","site_admin":false},"created_at":"2020-12-15T18:23:58Z","updated_at":"2020-12-15T18:28:47Z","author_association":"NONE","body":"Right, but that's the issue... if we don't pipe a table, it is full width as expected. But if we do pipe a table, Rich hard wraps it to 80 cols.\r\n\r\nBut my terminal is bigger and I want the table to be full width, like it would be if I hadn't piped it. The use case is for things like GNU Parallel or cat, which are not TTYs but still forward output to the user's terminal for human viewing.\r\n\r\n`soft_wrap=True` does this for text, so why not for tables? That's what I'm getting at.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/745517487","html_url":"https://github.com/willmcgugan/rich/issues/501#issuecomment-745517487","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/501","id":745517487,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTUxNzQ4Nw==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-12-15T19:33:28Z","updated_at":"2020-12-15T19:33:28Z","author_association":"OWNER","body":"If you want the output to use the same width when piped, you could try this:\r\n\r\n```python\r\nconsole = Console(width=None if sys.stdout.isatty() else os.get_terminal_size(0).columns)\r\n```\r\n\r\nHowever that is still going to \"hard wrap\" if your content is larger than can comfortably fit in your terminal. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/745607604","html_url":"https://github.com/willmcgugan/rich/issues/501#issuecomment-745607604","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/501","id":745607604,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTYwNzYwNA==","user":{"login":"acabal","id":866144,"node_id":"MDQ6VXNlcjg2NjE0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/866144?v=4","gravatar_id":"","url":"https://api.github.com/users/acabal","html_url":"https://github.com/acabal","followers_url":"https://api.github.com/users/acabal/followers","following_url":"https://api.github.com/users/acabal/following{/other_user}","gists_url":"https://api.github.com/users/acabal/gists{/gist_id}","starred_url":"https://api.github.com/users/acabal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acabal/subscriptions","organizations_url":"https://api.github.com/users/acabal/orgs","repos_url":"https://api.github.com/users/acabal/repos","events_url":"https://api.github.com/users/acabal/events{/privacy}","received_events_url":"https://api.github.com/users/acabal/received_events","type":"User","site_admin":false},"created_at":"2020-12-15T22:27:58Z","updated_at":"2020-12-15T22:27:58Z","author_association":"NONE","body":"OK. I think the workaround here is to export COLUMNS to Parallel and then check for that in our script.","performed_via_github_app":null}]