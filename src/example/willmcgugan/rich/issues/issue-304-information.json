{"url":"https://api.github.com/repos/willmcgugan/rich/issues/304","repository_url":"https://api.github.com/repos/willmcgugan/rich","labels_url":"https://api.github.com/repos/willmcgugan/rich/issues/304/labels{/name}","comments_url":"https://api.github.com/repos/willmcgugan/rich/issues/304/comments","events_url":"https://api.github.com/repos/willmcgugan/rich/issues/304/events","html_url":"https://github.com/willmcgugan/rich/issues/304","id":707414041,"node_id":"MDU6SXNzdWU3MDc0MTQwNDE=","number":304,"title":"[REQUEST] progress bar: round up task.speed","user":{"login":"FedeClaudi","id":17436313,"node_id":"MDQ6VXNlcjE3NDM2MzEz","avatar_url":"https://avatars0.githubusercontent.com/u/17436313?v=4","gravatar_id":"","url":"https://api.github.com/users/FedeClaudi","html_url":"https://github.com/FedeClaudi","followers_url":"https://api.github.com/users/FedeClaudi/followers","following_url":"https://api.github.com/users/FedeClaudi/following{/other_user}","gists_url":"https://api.github.com/users/FedeClaudi/gists{/gist_id}","starred_url":"https://api.github.com/users/FedeClaudi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FedeClaudi/subscriptions","organizations_url":"https://api.github.com/users/FedeClaudi/orgs","repos_url":"https://api.github.com/users/FedeClaudi/repos","events_url":"https://api.github.com/users/FedeClaudi/events{/privacy}","received_events_url":"https://api.github.com/users/FedeClaudi/received_events","type":"User","site_admin":false},"labels":[{"id":2200581776,"node_id":"MDU6TGFiZWwyMjAwNTgxNzc2","url":"https://api.github.com/repos/willmcgugan/rich/labels/Needs%20triage","name":"Needs triage","color":"bfdadc","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-09-23T14:25:14Z","updated_at":"2020-09-23T15:27:00Z","closed_at":"2020-09-23T15:27:00Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n\r\n**How would you improve Rich?**\r\n\r\nI love `rich`'s `ProgressBar`, but I have a very small issue with it: I can't seem to find a way to display `task.speed` without all the decimal numbers. \r\n\r\n\r\nThis is how I'm defining my `ProgressBar`:\r\n```\r\nprogress = Progress(\r\n    TextColumn(\r\n        \"[bold magenta]Step {task.completed}/{task.total} - {task.speed} steps/s\"\r\n    ),\r\n    # \"[progress.description]{task.description}\",\r\n    BarColumn(bar_width=None),\r\n    \"â€¢\",\r\n    \"[progress.percentage]{task.percentage:>3.0f}%\",\r\n    TimeRemainingColumn(),\r\n)\r\n\r\n```\r\nBut the `task.speed` get's printed with loads of decimal numbers which doesn't look great:\r\n```\r\nStep 44/3000 - 0.31283405731719177 steps/s \r\n```\r\n\r\nI've tried adding `>3.0f` to `task.speed` to truncate the float number, but this results in an error because before the first iteration is completed `task.speed` returns `None` and `None` cannot be formatted so that gives an error. \r\n\r\nIdeally `task.speed` should return a rounded number (e.g. to the third decimal) or a way should be put in place to have this option (even avoiding to return `None` before the first iteration would be enough). \r\n\r\nThanks, and thank for developing this awesome library :)","closed_by":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"performed_via_github_app":null}