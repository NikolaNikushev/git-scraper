[{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/595667210","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-595667210","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":595667210,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTY2NzIxMA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T08:53:10Z","updated_at":"2020-03-06T08:53:10Z","author_association":"OWNER","body":"Actually yes. I was thinking about progress bars. Something like https://github.com/tqdm/tqdm but \"prettier\".","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/595685731","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-595685731","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":595685731,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTY4NTczMQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T09:40:17Z","updated_at":"2020-03-06T09:40:17Z","author_association":"OWNER","body":"I was thinking of rendering them like this. Fairly minimal.\r\n\r\n[Screen Recording 2020-03-06 at 09.30.16.mov.zip](https://github.com/willmcgugan/rich/files/4297604/Screen.Recording.2020-03-06.at.09.30.16.mov.zip)\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/595723791","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-595723791","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":595723791,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTcyMzc5MQ==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T11:18:31Z","updated_at":"2020-03-06T11:19:07Z","author_association":"NONE","body":"Are you thinking about having a ``bar`` equivalent to ``box`` to style them?\r\n\r\nAre you thinking about having optional progress text? Maybe just take a callable that accepts whatever progress object you're working with and returns a string. One of the problems I've run into with tqdm's progress text is that it's difficult to customize in many ways because it's too specific. So, I think this would be a better way to do it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/595725452","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-595725452","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":595725452,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTcyNTQ1Mg==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T11:23:03Z","updated_at":"2020-03-06T11:23:03Z","author_association":"OWNER","body":"Yeah, that seems like a good idea. In Rich terms it would be a 'renderable' so you could substitute it for anything that renders progress.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596233432","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596233432","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596233432,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjIzMzQzMg==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-08T18:05:12Z","updated_at":"2020-03-08T18:05:12Z","author_association":"NONE","body":"Loving the progress (pun intended) on this so far. Looking like the kind of simple progress bar UX I've wanted.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596234151","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596234151","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596234151,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjIzNDE1MQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-03-08T18:12:59Z","updated_at":"2020-03-08T18:12:59Z","author_association":"OWNER","body":"Thanks. API is coming together. Posted a example https://twitter.com/willmcgugan/status/1236715446197510144","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596237387","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596237387","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596237387,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjIzNzM4Nw==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-08T18:44:36Z","updated_at":"2020-03-08T18:44:55Z","author_association":"NONE","body":"> Thanks. API is coming together. Posted a example [twitter.com/willmcgugan/status/1236715446197510144](https://twitter.com/willmcgugan/status/1236715446197510144)\r\n\r\nI've been moving over torrent CLI utility [thorod](https://github.com/thebigmunch/thorod) over to rich. Already been playing with rich.progress to replace the bar I display when hashing files on torrent creation. Previously used tqdm.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596241561","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596241561","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596241561,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjI0MTU2MQ==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-03-08T19:20:12Z","updated_at":"2020-03-08T19:20:12Z","author_association":"OWNER","body":"Nice. Let me know how that goes. But bear in mind the interface in master may change before the next release.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596241805","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596241805","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596241805,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjI0MTgwNQ==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-08T19:22:46Z","updated_at":"2020-03-08T19:22:46Z","author_association":"NONE","body":"> Nice. Let me know how that goes. But bear in mind the interface in master may change before the next release.\r\n\r\nYeah, I've already had to change it once. But, getting most the work done and just having to change it a bit at the end is nice when you have limited time.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596518413","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596518413","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596518413,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjUxODQxMw==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T13:18:25Z","updated_at":"2020-03-09T13:18:25Z","author_association":"NONE","body":"[Here's](https://waa.ai/TUO4.mp4) a screen recording of a run of thorod with a progress bar to give you an idea of some of the things I might like to include in this particular bar: progress, rate, and elapsed time. I had to hack some things a bit to get there:\r\n\r\n``` python\r\n@dataclass\r\nclass HashingTask(Task):\r\n\tstart: pendulum.datetime = pendulum.now()\r\n\r\n\t@property\r\n\tdef elapsed(self):\r\n\t\treturn humanize_duration((pendulum.now() - self.start).seconds)\r\n\r\n\t@property\r\n\tdef progress(self):\r\n\t\treturn f\"{humanize_filesize(self.completed)}/{humanize_filesize(self.total)}\"\r\n\r\n\t@property\r\n\tdef rate(self):\r\n\t\treturn f\"{humanize_filesize(self.completed / (pendulum.now() - self.start).seconds)}/s\"\r\n\r\n\r\nclass HashingProgress(Progress):\r\n\tdef add_task(\r\n\t\tself,\r\n\t\tname,\r\n\t\ttotal: int = 100,\r\n\t\tcompleted: int = 0,\r\n\t\tvisible: bool = True,\r\n\t\t**fields: str\r\n\t):\r\n\t\twith self._lock:\r\n\t\t\ttask = HashingTask(name, total, completed, visible=visible, fields=fields)\r\n\t\t\tself._tasks[self._task_index] = task\r\n\t\t\tself.refresh()\r\n\t\t\ttry:\r\n\t\t\t\treturn self._task_index\r\n\t\t\tfinally:\r\n\t\t\t\tself._task_index = TaskID(int(self._task_index) + 1)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596523740","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596523740","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596523740,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjUyMzc0MA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T13:28:42Z","updated_at":"2020-03-09T13:28:42Z","author_association":"OWNER","body":"Nice. You may be able to do that without the customized Progress class. The Progress constructor takes a list of columns, which can be a format string or a callable. The callable should take a Task object and return something Rich can render. Have a look at `bar_widget` which works that way.\r\n\r\nI'll probably implement widgets for ETA, file speed, etc. Similar to your properties.\r\n\r\nBTW I think your `start` variable will set the default once at import time. You may need `field(default_factory=pendulum.now)`","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596542735","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596542735","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596542735,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjU0MjczNQ==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T14:03:58Z","updated_at":"2020-03-09T14:04:32Z","author_association":"NONE","body":"> BTW I think your `start` variable will set the default once at import time. You may need `field(default_factory=pendulum.now)`\r\n\r\nYeah. It's a CLI app, so it's one use and wasn't so critical when I was just testing things.\r\n\r\nOne thing that did bug me is that the ``add_task`` method is a misnomer. I would expect it to add a ``Task`` instance. But, what it does is create a ``Task`` instance and then add it.\r\n\r\n> Nice. You may be able to do that without the customized Progress class. The Progress constructor takes a list of columns, which can be a format string or a callable. The callable should take a Task object and return something Rich can render. Have a look at `bar_widget` which works that way.\r\n\r\nI had started playing around with using a customized bar like this. I found this to be a bit clunky, though. You can't just add an instance due to it being called in the code, hence the ``bar_widget`` function to return an instance.\r\n\r\nI also don't see how adding a ``Task`` in the ``Progress`` instantiation would work. Maybe I'm missing something.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596546893","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596546893","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596546893,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjU0Njg5Mw==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T14:11:12Z","updated_at":"2020-03-09T14:11:43Z","author_association":"NONE","body":"Oh, I also noticed that ``Progress.update`` takes ``**fields``, but then also doesn't do anything with them.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596570359","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596570359","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596570359,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjU3MDM1OQ==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T14:36:01Z","updated_at":"2020-03-09T14:45:33Z","author_association":"NONE","body":"Updated my properties to handle zero-division and added a new one for an estimated time remaining:\r\n\r\n``` python\r\n@property\r\n\tdef progress(self):\r\n\t\treturn f\"{humanize_filesize(self.completed, precision=2)}/{humanize_filesize(self.total, precision=2)}\"\r\n\r\n\t@property\r\n\tdef rate(self):\r\n\t\telapsed = (pendulum.now() - self.start).seconds\r\n\r\n\t\treturn \"0 B/s\" if elapsed == 0 else f\"{humanize_filesize(self.completed / elapsed)}/s\"\r\n\r\n\t@property\r\n\tdef remaining_time(self):\r\n\t\telapsed = (pendulum.now() - self.start).seconds\r\n\t\tif (\r\n\t\t\tself.completed == 0\r\n\t\t\tor elapsed == 0\r\n\t\t):\r\n\t\t\tremaining_time = \"...\"\r\n\t\telse:\r\n\t\t\tremaining_time = (\r\n\t\t\t\tf\"{humanize_duration((self.total - self.completed) / (self.completed / elapsed))} left\"\r\n\t\t\t)\r\n\r\n\t\treturn remaining_time\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596805057","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596805057","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596805057,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjgwNTA1Nw==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T22:14:34Z","updated_at":"2020-03-09T22:14:34Z","author_association":"OWNER","body":"> One thing that did bug me is that the add_task method is a misnomer. I would expect it to add a Task instance. But, what it does is create a Task instance and then add it.\r\n\r\nWere you expecting it to accept a `Task` instance? The task object was not really something I was intending to been customized. It's purely an internal detail. \r\n\r\n> I had started playing around with using a customized bar like this. I found this to be a bit clunky, though. You can't just add an instance due to it being called in the code, hence the bar_widget function to return an instance.\r\n\r\nNot sure I follow. What do you find clunky? It's a one line function for the bar.\r\n\r\n```python\r\ndef bar_widget(task: Task) -> Bar:\r\n    \"\"\"Gets a progress bar widget for a task.\"\"\"\r\n    return Bar(total=task.total, completed=task.completed, width=40)\r\n```\r\n\r\n> Oh, I also noticed that Progress.update takes **fields, but then also doesn't do anything with them.\r\n\r\nYou can refer to the fields dict in a column format string. See downloader.py for an example.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596828170","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596828170","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596828170,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjgyODE3MA==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T23:32:35Z","updated_at":"2020-03-09T23:32:35Z","author_association":"NONE","body":"> Were you expecting it to accept a `Task` instance? The task object was not really something I was intending to been customized. It's purely an internal detail.\r\n\r\nYes. The wording ``add_task`` is clear to me that it should add a task, not create one. The ``Task`` class is external to ``Progress`` and there are methods for updating and removing tasks. It's a bit weird that none of them actually work on a ``Task``. While you may have intended it to be an internal detail, it shines right through. When I looked at the code, it definitely seemed to not be an internal detail. Maybe that's just me.\r\n\r\n> Not sure I follow. What do you find clunky? It's a one line function for the bar.\r\n\r\nThat's what's clunky about it. I would expect to be able to pass a ``Bar`` instance, for example. It's certainly not the worst thing in the world, but it is an oddity. I'd at least expect for ``bar_widget`` to take the arguments to ``Bar`` and be a way for users to create their own bar widget with that instead of having to create their own function in every project if they don't want a default bar.\r\n\r\n> You can refer to the fields dict in a column format string. See downloader.py for an example.\r\n\r\nI'm aware. I already showed doing that in this issue. My point was that you can't update arbitrary fields on the ``Task`` instance, even though you can set them. That's one of the reasons I went with a ``Task`` subclass. For example, ``elapsed`` could have been implemented this way instead of customizing a ``Task``.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/596828847","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-596828847","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":596828847,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjgyODg0Nw==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T23:35:17Z","updated_at":"2020-03-09T23:35:17Z","author_association":"NONE","body":"> I'm aware. I already showed doing that in this issue. My point was that you can't update arbitrary fields on the `Task` instance, even though you can set them.\r\n\r\nI see that's changed now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/597001222","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-597001222","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":597001222,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzAwMTIyMg==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-10T10:01:02Z","updated_at":"2020-03-10T10:01:02Z","author_association":"NONE","body":"About ``Task`` being an internal detail, I don't see how that can be. Users need to know about it and it properties to be able to use them as columns. They need to know that they can add and use fields to ``Task`` classes. It is definitely not just an internal detail.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/597052156","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-597052156","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":597052156,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzA1MjE1Ng==","user":{"login":"thebigmunch","id":118418,"node_id":"MDQ6VXNlcjExODQxOA==","avatar_url":"https://avatars0.githubusercontent.com/u/118418?v=4","gravatar_id":"","url":"https://api.github.com/users/thebigmunch","html_url":"https://github.com/thebigmunch","followers_url":"https://api.github.com/users/thebigmunch/followers","following_url":"https://api.github.com/users/thebigmunch/following{/other_user}","gists_url":"https://api.github.com/users/thebigmunch/gists{/gist_id}","starred_url":"https://api.github.com/users/thebigmunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thebigmunch/subscriptions","organizations_url":"https://api.github.com/users/thebigmunch/orgs","repos_url":"https://api.github.com/users/thebigmunch/repos","events_url":"https://api.github.com/users/thebigmunch/events{/privacy}","received_events_url":"https://api.github.com/users/thebigmunch/received_events","type":"User","site_admin":false},"created_at":"2020-03-10T12:08:48Z","updated_at":"2020-03-10T12:08:48Z","author_association":"NONE","body":"I'll say this about the ``*_task`` method naming and usage:\r\n\r\n* ``list.remove`` works on values/objects, not index.\r\n  ``list.pop`` and ``dict.pop`` work on key or index\r\n* ``create_task`` or ``spawn_task`` is more appropriate for what the ``add_task`` currently does.\r\n* ``add_task`` completely mimics the ``Task`` constructor.\r\n  This is a pretty big red flag that it should just accept a ``Task`` instance.\r\n* It seems like ``Task`` should be part of the public API (which I think it already is), as subclassing it can lead to flexibility for users to implement things so rich doesn't have to.\r\n\r\nI'm on break from this. My social anxiety disorder is kicking my ass as it does in these kinds of situations. I can't justify doing anymore with rich unless markdown-like markup gets removed anyway. Thanks for your time and effort.","performed_via_github_app":null},{"url":"https://api.github.com/repos/willmcgugan/rich/issues/comments/597141450","html_url":"https://github.com/willmcgugan/rich/issues/14#issuecomment-597141450","issue_url":"https://api.github.com/repos/willmcgugan/rich/issues/14","id":597141450,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzE0MTQ1MA==","user":{"login":"willmcgugan","id":554369,"node_id":"MDQ6VXNlcjU1NDM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/554369?v=4","gravatar_id":"","url":"https://api.github.com/users/willmcgugan","html_url":"https://github.com/willmcgugan","followers_url":"https://api.github.com/users/willmcgugan/followers","following_url":"https://api.github.com/users/willmcgugan/following{/other_user}","gists_url":"https://api.github.com/users/willmcgugan/gists{/gist_id}","starred_url":"https://api.github.com/users/willmcgugan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willmcgugan/subscriptions","organizations_url":"https://api.github.com/users/willmcgugan/orgs","repos_url":"https://api.github.com/users/willmcgugan/repos","events_url":"https://api.github.com/users/willmcgugan/events{/privacy}","received_events_url":"https://api.github.com/users/willmcgugan/received_events","type":"User","site_admin":false},"created_at":"2020-03-10T15:14:16Z","updated_at":"2020-03-10T15:14:16Z","author_association":"OWNER","body":"Let wait until I've finished working on it, and added documentation. It might me more clear what I intend to do with it. Have a look once you are feeling better.","performed_via_github_app":null}]